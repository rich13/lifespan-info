<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ page.title }} - {{ site.title }}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="{{ site.baseurl }}/assets/css/style.css" rel="stylesheet">
</head>
<body>
    <div class="page-wrapper">
        <div class="card shadow-sm">
            <div class="card-header bg-white border-bottom">
                <h1 class="site-title"><a href="{{ site.baseurl }}/" class="text-decoration-none text-reset">{{ site.title }}</a></h1>
            </div>
            <div class="card-body p-0">
                <div class="container-fluid">
                    <div class="row">
                        <!-- Sidebar -->
                        <nav id="sidebar" class="col-md-3 col-lg-2 d-md-block sidebar">
                            <div class="position-sticky pt-3">
                                <ul class="nav flex-column">
                                    {% assign sorted_pages = site.pages | where: "layout", "default" | sort: "nav_order" %}
                                    {% for p in sorted_pages %}
                                        {% unless p.title == "Page Not Found" %}
                                        <li class="nav-item">
                                            <a class="nav-link {% if page.url == p.url %}active{% endif %}" 
                                               href="{{ p.url | relative_url }}">
                                                {{ p.title }}
                                            </a>
                                            {% if page.url == p.url %}
                                            <nav id="toc" class="nav nav-pills flex-column ms-3 mb-2">
                                                <!-- Table of contents will be populated by jQuery -->
                                            </nav>
                                            {% endif %}
                                        </li>
                                        {% endunless %}
                                    {% endfor %}
                                </ul>
                            </div>
                        </nav>

                        <!-- Main content -->
                        <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4" data-bs-spy="scroll" data-bs-target="#toc">
                            <div class="content-wrapper">
                                <div id="content" class="py-4">
                                    {{ content }}
                                </div>
                            </div>
                        </main>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ site.baseurl }}/assets/js/main.js"></script>
</body>
</html> 